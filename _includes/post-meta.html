<!-- Open graph tags -->
<meta property="og:type" content="{% if page.date %}article{% else %}website{% endif %}">
<meta property="og:url" content="{{ page.url | replace:'index.html','' | prepend: site.baseurl | prepend: site.url }}">
<meta name="twitter:url" content="{{ page.url | prepend: site.url }}">
<meta property="og:image" content="{% if page.image %}{{ page.image | prepend: '/assets/img/posts/' | prepend: site.baseurl | prepend: site.url }}{% else %}{{ site.icon | prepend: site.baseurl | prepend: site.url }}{% endif %}">
<meta property="og:site_name" content="{{ site.title }}">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@vdaubry">
<meta name="twitter:creator" content="@vdaubry">

{% if page.title %}
  <meta property="og:title" content="{{ page.title }}">
  <meta name="twitter:title" content="{{ page.title }}">
{% else %}
  <meta property="og:title" content="{{ site.title }}">
  <meta name="twitter:title" content="{{ site.title }}">
{% endif %}

{% if page.description %}
  <meta property="og:description" content="{{ page.description | strip_html | strip_newlines | truncate: 160 }}">
  <meta name="twitter:description" content="{{ page.description }}">
{% else %}
  <meta property="og:description" content="{{ site.description | strip_html | strip_newlines | truncate: 160 }}">
  <meta name="twitter:description" content="{{ site.description }}">
{% endif %}

{% if page.image %}
  <meta property="og:image" content="{{ page.image | prepend: '/assets/img/posts/' | prepend: site.baseurl | prepend: site.url }}">
  <meta name="twitter:image:src" content="{{ site.url }}/{{ page.image | prepend: '/assets/img/posts/' | prepend: site.url }}">
{% else %}
  <meta property="og:image" content="{{ site.icon | prepend: site.baseurl | prepend: site.url }}">
  <meta name="twitter:image:src" content="{{{ site.icon | prepend: site.baseurl | prepend: site.url }}">
{% endif %}

{% if page.update %}
  <meta property="article:modified_time" content="{{ page.update | date_to_xmlschema }}">
{% endif %}

{% if page.date %}
  <meta property="article:published_time" content="{{ page.date | date_to_xmlschema }}">
  <meta property="article:author" content="{{ site.baseurl }}">
{% endif %}

{% if page.categories %}
  {% for category in page.categories limit:1 %}
    <meta property="article:section" content="{{ category }}">
  {% endfor %}
{% endif %}

{% if page.tags %}
  {% for tag in page.tags %}
    <meta property="article:tag" content="{{ tag }}">
  {% endfor %}
{% endif %}
