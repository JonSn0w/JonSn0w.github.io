!function(e){e.fn.simpleJekyllSearch=function(t){function n(){a.keyup(function(t){13===t.which&&c&&(window.location=c[0].url),e(this).val().length?o(l(e(this).val())):s()})}function l(e){c=[];for(var t=0;t<i.length;t++){var n=i[t];for(key in n)if(n.hasOwnProperty(key))if(n[key]instanceof Array){for(var l=0;l<n[key].length;l++)if(n[key][l].toLowerCase().indexOf(e.toLowerCase())>=0){c.push(n);break}}else if(n[key].toLowerCase().indexOf(e.toLowerCase())>=0){c.push(n);break}}return c}function o(t){if(s(),u.append(e(r.searchResultsTitle)),t&&t.length)for(var n=0;n<t.length&&n<r.limit;n++){var l=t[n];output=r.template,output=output.replace(/\{(.*?)\}/g,function(e,t){return l[t]}),u.append(e(output))}else u.append(r.noResults)}function s(){u.children().remove()}var r=e.extend({jsonFile:"/search.json",template:'<a href="{url}" title="{desc}">{title}</a>',searchResults:".results",searchResultsTitle:"<h4>Search results</h4>",limit:"10",noResults:"<p>Oh shucks<br/><small>Nothing found :(</small></p>"},t),i=[],a=this,u=e(r.searchResults),c=[];r.jsonFile.length&&u.length&&e.ajax({type:"GET",url:r.jsonFile,dataType:"json",success:function(e,t,l){i=e,n()},error:function(e,t,n){console.log("***ERROR in simpleJekyllSearch.js***"),console.log(e),console.log(t),console.log(n)}})}}(jQuery);